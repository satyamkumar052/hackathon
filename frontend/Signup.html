<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learnify - Find the Right Course</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
        .hero-title { line-height: 1.1; }
        /* Smooth transition for modals */
        .modal-overlay { transition: opacity 0.25s ease, visibility 0.25s ease; }
        .modal-content { transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
    </style>
</head>
<body class="bg-white">

    <main class="min-h-screen flex flex-col">
        <nav class="flex items-center justify-between px-10 md:px-20 py-8">
            <div class="flex items-center gap-12">
                <div class="text-2xl font-extrabold tracking-tight">
                    <span class="text-[#ff5722]">Learn</span>ify
                </div>
                <div class="hidden lg:flex gap-8 text-gray-500 font-semibold text-sm">
                    <a href="#" class="hover:text-black transition">Subjects ▾</a>
                    <a href="#" class="hover:text-black transition">Courses ▾</a>
                    <a href="#" class="hover:text-black transition">Degrees</a>
                    <a href="#" class="hover:text-black transition">For business</a>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <button onclick="openModal('signupModal')" class="font-bold text-[#1a1a1a] hover:text-orange-600 transition">Sign up</button>
                <button onclick="openModal('loginModal')" class="px-10 py-3 bg-[#ff5722] text-white rounded-2xl font-bold hover:shadow-xl hover:shadow-orange-100 transition transform hover:-translate-y-0.5">
                    Login
                </button>
            </div>
        </nav>

        <div class="flex-grow grid lg:grid-cols-2 px-10 md:px-20 items-center">
            <div>
                <h1 class="hero-title text-7xl md:text-[100px] font-extrabold text-[#1a1a1a] mb-8">
                    Find the right <br> <span class="text-[#ff5722]">course</span> for you
                </h1>
                <p class="text-gray-400 text-2xl max-w-lg mb-12 leading-relaxed">
                    See your personalised recommendations based on your interests and goals.
                </p>
                <div class="flex items-center gap-8">
                    <button class="px-12 py-5 bg-[#ff5722] text-white rounded-2xl font-extrabold text-xl shadow-2xl shadow-orange-200">
                        Find course
                    </button>
                    <a href="#" class="font-bold text-[#ff5722] text-lg border-b-2 border-transparent hover:border-orange-500">View our blog ↗</a>
                </div>
            </div>
            
            <div class="relative hidden lg:flex justify-center">
                <img src="https://cdni.iconscout.com/illustration/premium/thumb/female-student-flying-on-pencil-5596377-4663372.png" class="w-full max-w-xl drop-shadow-2xl">
                <div class="absolute top-0 right-10 bg-white p-6 rounded-[2rem] shadow-xl border border-gray-50">
                    <p class="text-[10px] font-bold text-gray-400 mb-3 text-right uppercase tracking-widest">Certified teachers only</p>
                    <div class="flex -space-x-4 justify-end">
                        <img class="w-12 h-12 rounded-full border-4 border-white bg-gray-100" src="https://i.pravatar.cc/100?u=1">
                        <img class="w-12 h-12 rounded-full border-4 border-white bg-gray-100" src="https://i.pravatar.cc/100?u=2">
                        <img class="w-12 h-12 rounded-full border-4 border-white bg-gray-100" src="https://i.pravatar.cc/100?u=3">
                        <div class="w-12 h-12 rounded-full border-4 border-white bg-[#ffca28] flex items-center justify-center text-xs font-black">135+</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="loginModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center invisible opacity-0 bg-black/40 backdrop-blur-sm p-4">
        <div class="absolute inset-0" onclick="closeAllModals()"></div>
        <div class="modal-content relative bg-white w-full max-w-md rounded-[3rem] shadow-2xl p-10 md:p-14 scale-90">
            <button onclick="closeAllModals()" class="absolute top-8 right-10 text-gray-400 hover:text-black text-2xl font-bold">✕</button>
            <div class="text-center mb-8">
                <div class="text-xl font-extrabold mb-4"><span class="text-[#ff5722]">Learn</span>ify</div>
                <h2 class="text-3xl font-extrabold text-[#1a1a1a] mb-2">Welcome back</h2>
                <p class="text-gray-400 text-sm font-medium">Please enter your details to login.</p>
            </div>
            <form id="loginForm" class="space-y-4">
                <input type="email" placeholder="Email Address" class="w-full px-6 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-[#ff5722] outline-none transition">
                <input type="password" placeholder="Password" class="w-full px-6 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-[#ff5722] outline-none transition">
                <button type="submit" class="w-full py-4 bg-[#ff5722] text-white rounded-2xl font-extrabold text-lg shadow-lg shadow-orange-100 hover:scale-[1.02] transition">Login</button>
            </form>
            <div class="mt-8 text-center text-sm font-medium text-gray-500">
                New to Learnify? <button onclick="openModal('signupModal')" class="text-[#ff5722] font-bold hover:underline">Create an account</button>
            </div>
        </div>
    </div>

    <div id="signupModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center invisible opacity-0 bg-black/40 backdrop-blur-sm p-4">
        <div class="absolute inset-0" onclick="closeAllModals()"></div>
        <div class="modal-content relative bg-white w-full max-w-md rounded-[3rem] shadow-2xl p-10 md:p-14 scale-90">
            <button onclick="closeAllModals()" class="absolute top-8 right-10 text-gray-400 hover:text-black text-2xl font-bold">✕</button>
            <div class="text-center mb-8">
                <div class="text-xl font-extrabold mb-4"><span class="text-[#ff5722]">Learn</span>ify</div>
                <h2 class="text-3xl font-extrabold text-[#1a1a1a] mb-2">Join Learnify</h2>
                <p class="text-gray-400 text-sm font-medium">Start your learning journey today.</p>
            </div>
            <form id="signupForm" class="space-y-4">
                <input type="text" placeholder="Full Name" class="w-full px-6 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-[#ff5722] outline-none transition">
                <input type="email" placeholder="Email Address" class="w-full px-6 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-[#ff5722] outline-none transition">
                <input type="password" placeholder="Create Password" class="w-full px-6 py-4 bg-gray-50 border border-transparent rounded-2xl focus:bg-white focus:border-[#ff5722] outline-none transition">
                <button type="submit" class="w-full py-4 bg-[#ff5722] text-white rounded-2xl font-extrabold text-lg shadow-lg shadow-orange-100 hover:scale-[1.02] transition">Get Started</button>
            </form>
            <div class="mt-8 text-center text-sm font-medium text-gray-500">
                Already have an account? <button onclick="openModal('loginModal')" class="text-[#ff5722] font-bold hover:underline">Log in</button>
            </div>
        </div>
    </div>

    <script>
        function openModal(id) {
            closeAllModals(); // Close any currently open modal first
            const modal = document.getElementById(id);
            const content = modal.querySelector('.modal-content');
            
            modal.classList.remove('invisible', 'opacity-0');
            content.classList.remove('scale-90');
            content.classList.add('scale-100');
            document.body.style.overflow = 'hidden'; // Disable background scroll
        }

        function closeAllModals() {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(m => {
                const content = m.querySelector('.modal-content');
                m.classList.add('invisible', 'opacity-0');
                content.classList.add('scale-90');
                content.classList.remove('scale-100');
            });
            document.body.style.overflow = ''; // Re-enable scroll
        }

        // Close on 'Esc' key
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeAllModals();
        });
    </script>
    <script>
        const API = "http://localhost:8080";

        document.getElementById("loginForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = e.target[0].value;
        const password = e.target[1].value;

        try {
            const res = await fetch(`${API}/login`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email, password }),
            });

            const data = await res.json();

            if (!res.ok) throw new Error(data.message || "Login failed");

            console.log("Logged in:", data);
            closeAllModals();
        } catch (err) {
            alert(err.message);
        }
        });

        document.getElementById("signupForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const name = e.target[0].value;
        const email = e.target[1].value;
        const password = e.target[2].value;

        try {
            const res = await fetch(`${API}/signup`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, email, password }),
            });

            const data = await res.json();

            if (!res.ok) throw new Error(data.message || "Signup failed");

            openModal("loginModal");
        } catch (err) {
            alert(err.message);
        }
        });
    </script>


</body>
</html>